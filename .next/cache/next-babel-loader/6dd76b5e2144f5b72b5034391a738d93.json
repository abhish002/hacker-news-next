{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"E:\\\\React projects\\\\hacker-news-next\\\\pages\\\\story.js\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport fetch from 'isomorphic-unfetch';\nimport Error from 'next/error';\nimport Layout from '../components/layout/layout.component';\n\nvar Story = function Story(_ref) {\n  var story = _ref.story;\n\n  if (!story) {\n    return __jsx(Error, {\n      statusCode: \"503\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 7,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return __jsx(Layout, {\n    title: story.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 5\n    }\n  }, JSON.stringify(story));\n};\n\n_c = Story;\n\nStory.getInitialProps = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n    var req, res, query, storyId, story, _res;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            req = _ref2.req, res = _ref2.res, query = _ref2.query;\n            storyId = query.id;\n            story = null;\n            _context.prev = 3;\n            _context.next = 6;\n            return fetch(\"https://node-hnapi.herokuapp.com/item/\".concat(storyId));\n\n          case 6:\n            _res = _context.sent;\n            story = _res.json();\n            _context.next = 13;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](3);\n            console.log(_context.t0);\n\n          case 13:\n            return _context.abrupt(\"return\", {\n              story: story\n            });\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[3, 10]]);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport default Story;\n\nvar _c;\n\n$RefreshReg$(_c, \"Story\");","map":{"version":3,"sources":["E:/React projects/hacker-news-next/pages/story.js"],"names":["fetch","Error","Layout","Story","story","title","JSON","stringify","getInitialProps","req","res","query","storyId","id","json","console","log"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,oBAAlB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,OAAOC,MAAP,MAAmB,uCAAnB;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,OAAe;AAAA,MAAZC,KAAY,QAAZA,KAAY;;AAC3B,MAAG,CAACA,KAAJ,EAAW;AACT,WAAO,MAAC,KAAD;AAAO,MAAA,UAAU,EAAC,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AACD,SACE,MAAC,MAAD;AAAQ,IAAA,KAAK,EAAEA,KAAK,CAACC,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGC,IAAI,CAACC,SAAL,CAAeH,KAAf,CADH,CADF;AAKD,CATD;;KAAMD,K;;AAWNA,KAAK,CAACK,eAAN;AAAA,uEAAwB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAASC,YAAAA,GAAT,SAASA,GAAT,EAAcC,GAAd,SAAcA,GAAd,EAAmBC,KAAnB,SAAmBA,KAAnB;AAChBC,YAAAA,OADgB,GACND,KAAK,CAACE,EADA;AAElBT,YAAAA,KAFkB,GAEV,IAFU;AAAA;AAAA;AAAA,mBAIFJ,KAAK,iDAA0CY,OAA1C,EAJH;;AAAA;AAIdF,YAAAA,IAJc;AAKpBN,YAAAA,KAAK,GAAGM,IAAG,CAACI,IAAJ,EAAR;AALoB;AAAA;;AAAA;AAAA;AAAA;AAOpBC,YAAAA,OAAO,CAACC,GAAR;;AAPoB;AAAA,6CAUf;AAAEZ,cAAAA,KAAK,EAALA;AAAF,aAVe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAxB;;AAAA;AAAA;AAAA;AAAA;;AAcA,eAAeD,KAAf","sourcesContent":["import fetch from 'isomorphic-unfetch';\r\nimport Error from 'next/error';\r\nimport Layout from '../components/layout/layout.component';\r\n\r\nconst Story = ({ story }) => {\r\n  if(!story) {\r\n    return <Error statusCode='503'/>\r\n  }\r\n  return (\r\n    <Layout title={story.title}>\r\n      {JSON.stringify(story)}\r\n    </Layout>\r\n  )\r\n}\r\n\r\nStory.getInitialProps = async ({ req, res, query }) => {\r\n  const storyId = query.id;\r\n  let story = null;\r\n  try {\r\n    const res = await fetch(`https://node-hnapi.herokuapp.com/item/${storyId}`);\r\n    story = res.json();\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n\r\n  return { story }\r\n}\r\n\r\n\r\nexport default Story;"]},"metadata":{},"sourceType":"module"}