{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"E:\\\\React projects\\\\hacker-news-next\\\\pages\\\\story.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport fetch from 'isomorphic-unfetch';\nimport Error from 'next/error';\nimport Layout from '../components/layout/layout.component';\n\nfunction Story(_ref) {\n  var story = _ref.story;\n  var title = story.title,\n      url = story.url,\n      points = story.points,\n      comments_count = story.comments_count,\n      time_ago = story.time_ago;\n\n  if (!story) {\n    return __jsx(Error, {\n      statusCode: \"503\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 8,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return __jsx(Layout, {\n    title: title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 5\n    }\n  }, __jsx(\"main\", {\n    className: \"jsx-118692092\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }\n  }, __jsx(\"h1\", {\n    className: \"jsx-118692092\" + \" \" + 'story-title',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 9\n    }\n  }, __jsx(\"a\", {\n    href: url,\n    className: \"jsx-118692092\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 11\n    }\n  }, title)), __jsx(\"div\", {\n    className: \"jsx-118692092\" + \" \" + 'story-details',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 9\n    }\n  }, __jsx(\"strong\", {\n    className: \"jsx-118692092\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 11\n    }\n  }, points, \" points\"), __jsx(\"strong\", {\n    className: \"jsx-118692092\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 11\n    }\n  }, comments_count, \" comments\"), __jsx(\"strong\", {\n    className: \"jsx-118692092\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 11\n    }\n  }, time_ago))), __jsx(_JSXStyle, {\n    id: \"118692092\",\n    __self: this\n  }, \"main.jsx-118692092{padding:1em;}.story-title.jsx-118692092{font-size:1.2rem;margin:0;font-weight:300;padding-bottom:0.5em;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6XFxSZWFjdCBwcm9qZWN0c1xcaGFja2VyLW5ld3MtbmV4dFxccGFnZXNcXHN0b3J5LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXFCa0IsQUFHdUIsQUFHSyxZQUZuQixLQUdXLFNBQ08sZ0JBQ0sscUJBQ3ZCIiwiZmlsZSI6IkU6XFxSZWFjdCBwcm9qZWN0c1xcaGFja2VyLW5ld3MtbmV4dFxccGFnZXNcXHN0b3J5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZldGNoIGZyb20gJ2lzb21vcnBoaWMtdW5mZXRjaCc7XHJcbmltcG9ydCBFcnJvciBmcm9tICduZXh0L2Vycm9yJztcclxuaW1wb3J0IExheW91dCBmcm9tICcuLi9jb21wb25lbnRzL2xheW91dC9sYXlvdXQuY29tcG9uZW50JztcclxuXHJcbmZ1bmN0aW9uIFN0b3J5KHsgc3RvcnkgfSkge1xyXG4gIGNvbnN0IHsgdGl0bGUsIHVybCwgcG9pbnRzLCBjb21tZW50c19jb3VudCwgdGltZV9hZ28gfSA9IHN0b3J5O1xyXG4gIGlmICghc3RvcnkpIHtcclxuICAgIHJldHVybiA8RXJyb3Igc3RhdHVzQ29kZT0nNTAzJyAvPlxyXG4gIH1cclxuICByZXR1cm4gKFxyXG4gICAgPExheW91dCB0aXRsZT17dGl0bGV9PlxyXG4gICAgICA8bWFpbj5cclxuICAgICAgICA8aDEgY2xhc3NOYW1lPSdzdG9yeS10aXRsZSc+XHJcbiAgICAgICAgICA8YSBocmVmPXt1cmx9Pnt0aXRsZX08L2E+XHJcbiAgICAgICAgPC9oMT5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3RvcnktZGV0YWlscyc+XHJcbiAgICAgICAgICA8c3Ryb25nPntwb2ludHN9IHBvaW50czwvc3Ryb25nPlxyXG4gICAgICAgICAgPHN0cm9uZz57Y29tbWVudHNfY291bnR9IGNvbW1lbnRzPC9zdHJvbmc+XHJcbiAgICAgICAgICA8c3Ryb25nPnt0aW1lX2Fnb308L3N0cm9uZz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9tYWluPlxyXG4gICAgICA8c3R5bGUganN4PntgXHJcbiAgICAgICAgbWFpbiB7XHJcbiAgICAgICAgICBwYWRkaW5nOiAxZW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5zdG9yeS10aXRsZSB7XHJcbiAgICAgICAgICBmb250LXNpemU6IDEuMnJlbTtcclxuICAgICAgICAgIG1hcmdpbjogMDtcclxuICAgICAgICAgIGZvbnQtd2VpZ2h0OiAzMDA7XHJcbiAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMC41ZW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5zdG9yeS10aXRsZSBhIHtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICBgfTwvc3R5bGU+XHJcbiAgICA8L0xheW91dD5cclxuICApXHJcbn1cclxuXHJcblN0b3J5LmdldEluaXRpYWxQcm9wcyA9IGFzeW5jICh7IHJlcSwgcmVzLCBxdWVyeSB9KSA9PiB7XHJcbiAgY29uc3Qgc3RvcnlJZCA9IHF1ZXJ5LmlkO1xyXG4gIGxldCBzdG9yeSA9IG51bGw7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGBodHRwczovL25vZGUtaG5hcGkuaGVyb2t1YXBwLmNvbS9pdGVtLyR7c3RvcnlJZH1gKTtcclxuICAgIHN0b3J5ID0gYXdhaXQgcmVzLmpzb24oKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjb25zb2xlLmxvZyhlKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7IHN0b3J5IH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFN0b3J5OyJdfQ== */\\n/*@ sourceURL=E:\\\\\\\\React projects\\\\\\\\hacker-news-next\\\\\\\\pages\\\\\\\\story.js */\"));\n}\n\n_c = Story;\n\nStory.getInitialProps = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n    var req, res, query, storyId, story, _res;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            req = _ref2.req, res = _ref2.res, query = _ref2.query;\n            storyId = query.id;\n            story = null;\n            _context.prev = 3;\n            _context.next = 6;\n            return fetch(\"https://node-hnapi.herokuapp.com/item/\".concat(storyId));\n\n          case 6:\n            _res = _context.sent;\n            _context.next = 9;\n            return _res.json();\n\n          case 9:\n            story = _context.sent;\n            _context.next = 15;\n            break;\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](3);\n            console.log(_context.t0);\n\n          case 15:\n            return _context.abrupt(\"return\", {\n              story: story\n            });\n\n          case 16:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[3, 12]]);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport default Story;\n\nvar _c;\n\n$RefreshReg$(_c, \"Story\");","map":{"version":3,"sources":["E:/React projects/hacker-news-next/pages/story.js"],"names":["fetch","Error","Layout","Story","story","title","url","points","comments_count","time_ago","getInitialProps","req","res","query","storyId","id","json","console","log"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,oBAAlB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,OAAOC,MAAP,MAAmB,uCAAnB;;AAEA,SAASC,KAAT,OAA0B;AAAA,MAATC,KAAS,QAATA,KAAS;AAAA,MAChBC,KADgB,GACiCD,KADjC,CAChBC,KADgB;AAAA,MACTC,GADS,GACiCF,KADjC,CACTE,GADS;AAAA,MACJC,MADI,GACiCH,KADjC,CACJG,MADI;AAAA,MACIC,cADJ,GACiCJ,KADjC,CACII,cADJ;AAAA,MACoBC,QADpB,GACiCL,KADjC,CACoBK,QADpB;;AAExB,MAAI,CAACL,KAAL,EAAY;AACV,WAAO,MAAC,KAAD;AAAO,MAAA,UAAU,EAAC,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AACD,SACE,MAAC,MAAD;AAAQ,IAAA,KAAK,EAAEC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,uCAAc,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,IAAI,EAAEC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAeD,KAAf,CADF,CADF,EAIE;AAAA,uCAAe,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAASE,MAAT,YADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAASC,cAAT,cAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAASC,QAAT,CAHF,CAJF,CADF;AAAA;AAAA;AAAA,y4EADF;AA4BD;;KAjCQN,K;;AAmCTA,KAAK,CAACO,eAAN;AAAA,uEAAwB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAASC,YAAAA,GAAT,SAASA,GAAT,EAAcC,GAAd,SAAcA,GAAd,EAAmBC,KAAnB,SAAmBA,KAAnB;AAChBC,YAAAA,OADgB,GACND,KAAK,CAACE,EADA;AAElBX,YAAAA,KAFkB,GAEV,IAFU;AAAA;AAAA;AAAA,mBAIFJ,KAAK,iDAA0Cc,OAA1C,EAJH;;AAAA;AAIdF,YAAAA,IAJc;AAAA;AAAA,mBAKNA,IAAG,CAACI,IAAJ,EALM;;AAAA;AAKpBZ,YAAAA,KALoB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAOpBa,YAAAA,OAAO,CAACC,GAAR;;AAPoB;AAAA,6CAUf;AAAEd,cAAAA,KAAK,EAALA;AAAF,aAVe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAxB;;AAAA;AAAA;AAAA;AAAA;;AAcA,eAAeD,KAAf","sourcesContent":["import fetch from 'isomorphic-unfetch';\r\nimport Error from 'next/error';\r\nimport Layout from '../components/layout/layout.component';\r\n\r\nfunction Story({ story }) {\r\n  const { title, url, points, comments_count, time_ago } = story;\r\n  if (!story) {\r\n    return <Error statusCode='503' />\r\n  }\r\n  return (\r\n    <Layout title={title}>\r\n      <main>\r\n        <h1 className='story-title'>\r\n          <a href={url}>{title}</a>\r\n        </h1>\r\n        <div className='story-details'>\r\n          <strong>{points} points</strong>\r\n          <strong>{comments_count} comments</strong>\r\n          <strong>{time_ago}</strong>\r\n        </div>\r\n      </main>\r\n      <style jsx>{`\r\n        main {\r\n          padding: 1em;\r\n        }\r\n        .story-title {\r\n          font-size: 1.2rem;\r\n          margin: 0;\r\n          font-weight: 300;\r\n          padding-bottom: 0.5em;\r\n        }\r\n        .story-title a {\r\n\r\n        }\r\n      `}</style>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nStory.getInitialProps = async ({ req, res, query }) => {\r\n  const storyId = query.id;\r\n  let story = null;\r\n  try {\r\n    const res = await fetch(`https://node-hnapi.herokuapp.com/item/${storyId}`);\r\n    story = await res.json();\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n\r\n  return { story }\r\n}\r\n\r\n\r\nexport default Story;"]},"metadata":{},"sourceType":"module"}